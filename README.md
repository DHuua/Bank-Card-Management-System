# üè¶ Bank Cards Management System

REST API —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)
- üí≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- üí∏ –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- üë• –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø (USER –∏ ADMIN)
- üîí –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Java 17**
- **Spring Boot 3.2.1**
- **Spring Security** + JWT
- **Spring Data JPA**
- **PostgreSQL**
- **Liquibase** (–º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î)
- **Docker** + Docker Compose
- **Swagger/OpenAPI** (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API)
- **Maven**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bank_rest/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/com/example/bankcards/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Security, CORS, OpenAPI)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/      # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/          # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exception/       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/      # Spring Data repositories
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security/        # JWT, —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ util/            # –£—Ç–∏–ª–∏—Ç—ã (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application.yml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ db/migration/    # Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ test/                    # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ openapi.yaml            # OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ pom.xml                     # Maven –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Docker Desktop
- Docker Compose

**–®–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞:**

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/DHuua/Bank-Card-Management-System.git
cd Bank-Card-Management-System
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker Compose:
```bash
docker-compose up -d
```

3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:
   - **API**: http://localhost:8080
   - **Swagger UI**: http://localhost:8080/swagger-ui.html
   - **OpenAPI JSON**: http://localhost:8080/api-docs

4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
docker-compose down
```

5. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è –¥–∞–Ω–Ω—ã–µ –ë–î):
```bash
docker-compose down -v
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Java 17+
- Maven 3.6+
- PostgreSQL 15+

**–®–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞:**

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/DHuua/Bank-Card-Management-System.git
cd Bank-Card-Management-System
```

2. –°–æ–∑–¥–∞–π—Ç–µ –ë–î –≤ PostgreSQL:
```sql
CREATE DATABASE TESTDB;
CREATE USER memory WITH PASSWORD 'mydhuua';
GRANT ALL PRIVILEGES ON DATABASE TESTDB TO postgres;
```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –≤ `src/main/resources/application.yml`:
```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/TESTDB
    username: postgres
    password: mydhuua
```

4. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
mvn clean package -DskipTests
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
java -jar target/bankcards-1.0.0.jar
```

6. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:
   - **API**: http://localhost:8080
   - **Swagger UI**: http://localhost:8080/swagger-ui.html

---

## üîë –¢–µ—Å—Ç–æ–≤—ã–π –¥–æ—Å—Ç—É–ø

### –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

- **Username**: `admin`
- **Password**: `admin123`
- **Email**: `admin@bankcards.com`

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!

---

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Swagger UI
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ:
```
http://localhost:8080/swagger-ui.html
```

### OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
```
http://localhost:8080/api-docs
```

–ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª: `docs/openapi.yaml`

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

### Authentication (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
```
POST   /api/auth/register    - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/auth/login       - –í—Ö–æ–¥ (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞)
POST   /api/auth/refresh     - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```

### Users (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
```
GET    /api/users/me         - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
GET    /api/users/{id}       - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID (Admin)
PUT    /api/users/{id}       - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/users/change-password - –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
```

### Cards (–ö–∞—Ä—Ç—ã)
```
POST   /api/cards            - –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É
GET    /api/cards/my         - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–∏ –∫–∞—Ä—Ç—ã (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
GET    /api/cards/{id}       - –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –ø–æ ID
PUT    /api/cards/{id}/block - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É
PUT    /api/cards/{id}/activate - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É (Admin)
DELETE /api/cards/{id}       - –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É (Admin)
GET    /api/cards/{id}/balance - –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã
```

### Transfers (–ü–µ—Ä–µ–≤–æ–¥—ã)
```
POST   /api/transfers        - –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
GET    /api/transfers/my     - –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤
GET    /api/transfers/{id}   - –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –ø–æ ID
GET    /api/transfers/card/{cardId} - –ü–µ—Ä–µ–≤–æ–¥—ã –ø–æ –∫–∞—Ä—Ç–µ
```

### Admin (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
```
GET    /api/admin/dashboard  - –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
GET    /api/admin/users      - –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
GET    /api/admin/cards      - –í—Å–µ –∫–∞—Ä—Ç—ã
DELETE /api/admin/users/{id} - –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE /api/admin/cards/{id} - –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "john_doe",
    "email": "john@example.com",
    "password": "password123",
    "firstName": "John",
    "lastName": "Doe"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "username": "john_doe",
  "role": "USER"
}
```

### 2. –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "admin123"
  }'
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:8080/api/cards \
  -H "Authorization: Bearer {–≤–∞—à-—Ç–æ–∫–µ–Ω}" \
  -H "Content-Type: application/json" \
  -d '{
    "cardNumber": "4532015112830366",
    "cardHolder": "JOHN DOE",
    "expiryDate": "2027-12-31",
    "cvv": "123",
    "initialBalance": 1000.00,
    "userId": 1
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "maskedCardNumber": "**** **** **** 0366",
  "cardHolder": "JOHN DOE",
  "expiryDate": "2027-12-31",
  "status": "ACTIVE",
  "balance": 1000.00,
  "ownerUsername": "john_doe"
}
```

### 4. –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://localhost:8080/api/transfers \
  -H "Authorization: Bearer {–≤–∞—à-—Ç–æ–∫–µ–Ω}" \
  -H "Content-Type: application/json" \
  -d '{
    "fromCardId": 1,
    "toCardId": 2,
    "amount": 100.00,
    "description": "Transfer between my cards"
  }'
```

---

## üë• –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### USER (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç –¥–ª—è —Å–µ–±—è
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚ùå –î–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º –∫–∞—Ä—Ç–∞–º
- ‚ùå –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç

### ADMIN (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- ‚úÖ –í—Å–µ –ø—Ä–∞–≤–∞ USER +
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ä—Ç –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç –¥–ª—è –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üîê **–ù–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç** —à–∏—Ñ—Ä—É—é—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º AES-256
- üîê **CVV –∫–æ–¥—ã** —à–∏—Ñ—Ä—É—é—Ç—Å—è AES-256
- üîê **–ü–∞—Ä–æ–ª–∏** —Ö–µ—à–∏—Ä—É—é—Ç—Å—è BCrypt
- üé≠ **–ù–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç** –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö (**** **** **** 1234)

### JWT –¢–æ–∫–µ–Ω—ã
- ‚è∞ **Access token**: 24 —á–∞—Å–∞
- ‚è∞ **Refresh token**: 7 –¥–Ω–µ–π
- üîë **–ê–ª–≥–æ—Ä–∏—Ç–º**: HMAC-SHA256

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: 16 —Ü–∏—Ñ—Ä + –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Luhn
- ‚úÖ CVV: 3 —Ü–∏—Ñ—Ä—ã
- ‚úÖ –°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞: –º–∏–Ω–∏–º—É–º 0.01
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–≤–æ–¥–æ–º

---

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏

–ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **001-create-users-table.yaml** - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **002-create-cards-table.yaml** - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∫–∞—Ä—Ç
3. **003-create-transfers-table.yaml** - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
4. **004-insert-default-admin.yaml** - –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –°—Ö–µ–º–∞ –ë–î

```
users
  ‚îú‚îÄ‚îÄ id (PK)
  ‚îú‚îÄ‚îÄ username (unique)
  ‚îú‚îÄ‚îÄ email (unique)
  ‚îú‚îÄ‚îÄ password (hashed)
  ‚îú‚îÄ‚îÄ first_name
  ‚îú‚îÄ‚îÄ last_name
  ‚îú‚îÄ‚îÄ role (USER/ADMIN)
  ‚îú‚îÄ‚îÄ is_active
  ‚îú‚îÄ‚îÄ created_at
  ‚îî‚îÄ‚îÄ updated_at

cards
  ‚îú‚îÄ‚îÄ id (PK)
  ‚îú‚îÄ‚îÄ card_number (encrypted)
  ‚îú‚îÄ‚îÄ card_holder
  ‚îú‚îÄ‚îÄ expiry_date
  ‚îú‚îÄ‚îÄ cvv (encrypted)
  ‚îú‚îÄ‚îÄ status (ACTIVE/BLOCKED/EXPIRED)
  ‚îú‚îÄ‚îÄ balance
  ‚îú‚îÄ‚îÄ user_id (FK -> users.id)
  ‚îú‚îÄ‚îÄ created_at
  ‚îî‚îÄ‚îÄ updated_at

transfers
  ‚îú‚îÄ‚îÄ id (PK)
  ‚îú‚îÄ‚îÄ from_card_id (FK -> cards.id)
  ‚îú‚îÄ‚îÄ to_card_id (FK -> cards.id)
  ‚îú‚îÄ‚îÄ amount
  ‚îú‚îÄ‚îÄ description
  ‚îú‚îÄ‚îÄ status (COMPLETED/FAILED/PENDING/CANCELLED)
  ‚îú‚îÄ‚îÄ user_id (FK -> users.id)
  ‚îî‚îÄ‚îÄ transfer_date
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
mvn test
```

### –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

```bash
mvn clean package -DskipTests
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
docker ps

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
docker-compose logs postgres
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 8080 –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`:
```yaml
ports:
  - "8081:8080"  # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 8081 –≤–º–µ—Å—Ç–æ 8080
```

### –ü—Ä–æ–±–ª–µ–º–∞: Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –ë–î –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose down -v
docker-compose up -d
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub**: https://github.com/DHuua/Bank-Card-Management-System
- **Email**: support@bankcards.com

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.

---

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Spring Security + JWT, —Ä–æ–ª–∏ ADMIN –∏ USER  
‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏**: CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –∞–∫—Ç–∏–≤–∞—Ü–∏—è  
‚úÖ **–ü–µ—Ä–µ–≤–æ–¥—ã**: –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –±–∞–ª–∞–Ω—Å–∞  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ä–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø, –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ  
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL —Å Liquibase –º–∏–≥—Ä–∞—Ü–∏—è–º–∏  
‚úÖ **API**: REST API —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger UI –∏ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è  
‚úÖ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**: Docker Compose –¥–ª—è dev-—Å—Ä–µ–¥—ã  
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∫–ª—é—á–µ–≤–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏  

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è**